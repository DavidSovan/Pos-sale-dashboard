<reactiveUi:ReactiveWindow 
    x:Class="PosSale.Views.LoginView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:reactiveUi="clr-namespace:Avalonia.ReactiveUI;assembly=Avalonia.ReactiveUI"
    
    xmlns:vm="using:PosSale.ViewModels"
    xmlns:converters="using:PosSale.Converters"
    x:DataType="vm:LoginViewModel"
    mc:Ignorable="d"
    Width="400"
    Height="500"
    WindowStartupLocation="CenterScreen"
    Title="POS System - Login">

    <Window.Resources>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibility"/>
    </Window.Resources>
    
    <Grid Margin="20">
        <StackPanel Spacing="15">
            <TextBlock Text="POS System Login" 
                       FontSize="24"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,20"/>
            
            <StackPanel>
                <TextBlock Text="Email" Margin="0,0,0,5"/>
                <TextBox Text="{Binding Email}" 
                         Watermark="Enter your email"
                         IsEnabled="{Binding IsLoading, Converter={x:Static converters:BoolConverters.Not}}"/>
            </StackPanel>
            
            <StackPanel>
                <TextBlock Text="Password" Margin="0,0,0,5"/>
                <TextBox Text="{Binding Password}" 
                         PasswordChar="â€¢"
                         Watermark="Enter your password"
                         IsEnabled="{Binding IsLoading, Converter={x:Static converters:BoolConverters.Not}}"/>
            </StackPanel>
            
            <ProgressBar IsIndeterminate="True" 
                         IsVisible="{Binding IsLoading}"
                         HorizontalAlignment="Center"
                         Height="30" />
            
            <TextBlock Text="{Binding ErrorMessage}"
                       Foreground="Red"
                       TextWrapping="Wrap"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding ErrorMessage, Converter={x:Static converters:StringConverters.IsNotNullOrEmpty}}"/>
            
            <Button Content="Login" 
                    Command="{Binding LoginCommand}"
                    IsEnabled="{Binding IsLoading, Converter={x:Static converters:BoolConverters.Not}}"
                    HorizontalAlignment="Stretch"
                    Height="40"/>
        </StackPanel>
    </Grid>
</reactiveUi:ReactiveWindow>